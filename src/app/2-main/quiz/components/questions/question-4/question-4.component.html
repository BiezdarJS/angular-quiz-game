<div class="question">
  <h2>{{ 'questions.q4.title' | transloco }}</h2>
  <div class="options">
    @for(question of question4Data; let idx = $index; track question) {
      <label
        class="option"
        [ngClass]="{
          'selected': idx === selectedIndex(),
          'correct': isCompleted() && question.isCorrect,
          'incorrect': quizForm.get('question4')?.value === question.value && !question.isCorrect && idx === selectedIndex() && isCompleted()
          }"
        (click)="handleOptionChange(idx, question.value)">
        <input type="radio" formControlName="question4" [value]="question.value" [checked]="idx === selectedIndex()">
        {{ 'questions.q4.answers.' + ANSWER_KEYS[idx] | transloco }}
    </label>
    }
  </div>
  <div class="buttons">
      <button type="button" class="prev-btn" (click)="handlePreviousBtnAction()">
        {{ 'quiz_misc.previous' | transloco }}
      </button>
      @if (!isCompleted()) {
        <button type="submit" class="next-btn" [disabled]="isDisabled()">
          {{ 'quiz_misc.submit' | transloco }}
        </button>
      } @else {
        <button type="button" class="next-btn" [disabled]="isDisabled()" (click)="handleNextBtnAction()">
          {{ 'quiz_misc.next' | transloco }}
        </button>
      }

  </div>
</div>
